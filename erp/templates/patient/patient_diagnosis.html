{% extends 'base.html' %}


{% block content %}
<div class="container mt-5">
    <div class="card shadow-sm mb-4 border-0">
        <div class="card-body p-4">
          <div class="card-header " style="background-color: #1976D2; text-align: center;">
            <h3 class="text-white">Diagnosis History</h3>
          </div>

            {% if diagnoses %}
                <div class="table-responsive">
                    <table class="table table-striped table-bordered align-middle text-center rounded-3 overflow-hidden">
                        <thead class="table-light">
                            <tr>
                                <th scope="col">Date</th>
                                <th scope="col">Doctor</th>
                                <th scope="col">Symptoms</th>
                                <th scope="col">Tests Ordered</th>
                                <th scope="col">Details</th>
                                <th scope="col">AI Prediction</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for diag in diagnoses %}
                                <tr>
                                    <td>{{ diag.diagnosis_date }}</td>
                                    <td>{{ diag.doctor }}</td>
                                    <td>{{ diag.symptoms }}</td>
                                    <td>{{ diag.tests_ordered }}</td>
                                    <td>{{ diag.diagnosis_detail }}</td>
                                    <td class="fw-bold text-success">{{ diag.ai_prediction }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="alert alert-info mt-4" role="alert">
                    You have no diagnosis records yet.
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
